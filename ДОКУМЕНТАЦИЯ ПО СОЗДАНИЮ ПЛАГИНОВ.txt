ДОКУМЕНТАЦИЯ ПО СОЗДАНИЮ ПЛАГИНОВ ДЛЯ VARTEXTER2

Плагин должен иметь структуру

PluginDir/
    config.ini

Параметры в формате:
    обозначение в config.ini - пример названия - выполняемая функция

[DEFAULT]

    name - Plugin - Название плагина
    varsion - 1.0 - Версия плагина
    main - plugin.py  - Файл кода плагина
    mb - Main.mb - Верхнее меню
    cm - Main.cm - Основное контекстное меню
    tcm - Main.tcm - Контекстное меню тексторого редактора
    sc - Main.sc - Горячие клавиш
    Добавляется sys.path.insert(путь до директории) - Lib/(site-packages/) - Сторонние библиотеки, используемые плагином

Пример на основе плагина Googler:

config.ini

[DEFAULT]
name=Googler
version=1.0
main=googler.py
cm=Main.cm
tcm=Main.tcm
mb=Main.mb
; sc=Main.sc Закомментировано (не используется)


Создание меню в файлах mb, cm, tcm; горячих клавиш в sc
Файлы поддерживают структуру json

Командами считаются ВСЕ Python функции из плагинов либо основного приложения, которые могут быть вызваны

Пример файла меню

[
    { Меню
        "caption": "Отображаемый текст",
        "id": "menu1",
        "children": [
                {
                    "caption": "Другой текст",
                    "id": "menu2",
                    "children": []
                }
        ]
    },
    { Другое меню
        "caption": "Текст",
        "id": "menu3",
        "children": [
                {
                    "caption": "Текст команды",
                    "command": "command" Команда без аргументов
                },
                {
                    "caption": "Текст команды",
                    "command": "command arg1 arg2" Команда с аргументами
                }
        ]
    }
]

! Элементы в меню можно добавлять из разных файлов. Для этого у двух меню должен быть один id

Создание горячих клавиш

[
    { "keys": ["Сочетание клавиш"], "command": "команда", "text": "Отображаемый текст" },
    { "keys": ["Сочетание клавиш", ["Другое сочетание"]], "command": "команда2 аргумент", "text": "Текст" }
]

Динамические элементы

Вставляются в формате {элемент}
    {platform} - Платформа (Windows, Linux, OSX)
    {basedir} - Папка программы
    {filedir} - Папка нахождения файла (в доработке)
    {username} - Имя пользователя